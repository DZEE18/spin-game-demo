(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();const l=[{val:-1,label:"5USD"},{val:-2,label:"20USD"},{val:-3,label:"Discount 10%"},{val:0,label:"Thanks"},{val:1,label:"50 Points"},{val:2,label:"100 Points"}];class g extends Phaser.Scene{constructor(){super({key:"LoadingScene"})}preload(){this.load.image("loadingBackground","assets/images/loadingBackground.png"),this.load.image("background","assets/images/background2.png"),this.load.image("wheel","assets/images/wheel2.png"),this.load.image("bgWheel","assets/images/bgWheel.png"),this.load.image("pin","assets/images/pin.png"),this.load.image("spinButton","assets/images/spinButton2.png"),this.load.image("bgReward","assets/images/backgroundReward.png"),this.load.image("box","assets/images/box.png"),this.load.image("btnClaim","assets/images/btnClaim.png")}create(){const t=this.add.image(0,0,"loadingBackground");t.setOrigin(.5,.5),t.setPosition(this.sys.game.config.width/2,this.sys.game.config.height/2);const o=this.sys.game.config.width/t.width,s=this.sys.game.config.height/t.height,e=Math.max(o,s);t.setScale(e),this.time.delayedCall(2e3,()=>{this.scene.start("MainScene")})}}class m extends Phaser.Scene{constructor(){super({key:"MainScene"})}preload(){this.load.audio("spinSound","assets/audios/spinSound.mp3")}create(){const t=this.sound.add("spinSound");function o(d){const r=document.getElementById("toast");r.textContent=d,r.classList.add("show"),setTimeout(()=>{r.classList.remove("show")},3e3)}this.add.image(this.cameras.main.centerX,this.cameras.main.centerY,"background").setOrigin(.5,.5).setDisplaySize(this.cameras.main.width,this.cameras.main.height);const s=this.add.sprite(this.cameras.main.width/2,250,"wheel");s.setScale(.45),s.setOrigin(.5,.5);const e=this.add.sprite(this.cameras.main.width/2,250,"bgWheel");e.setScale(.75),e.setOrigin(.5,.5),this.add.sprite(s.x,s.y,"pin").setDisplaySize(50,50);const i=this.add.sprite(this.cameras.main.width/2,this.cameras.main.height-100,"spinButton");i.setScale(.4),i.setOrigin(.5,.5),i.setInteractive(),i.on("pointerdown",()=>{t.play(),p.call(this,s,t,o)})}update(){}}const u={type:Phaser.AUTO,width:Math.min(480,window.innerWidth),height:window.innerHeight,parent:"game-container",scene:[g,m]};new Phaser.Game(u);function p(a,t,o){const s=Phaser.Math.Between(2,4);let e=Phaser.Math.Between(0,360);const n=90,i=135;e>=n&&e<=i&&(e=(e+(i-n+1))%360);const d=360*s+e;this.tweens.add({targets:a,angle:d,ease:"Cubic.easeOut",duration:Phaser.Math.Between(4e3,5e3),onComplete:()=>{t.stop();const r=f(a.angle%360);let c=l.findIndex(h=>h.val==r);console.log("Winning Segment: ",c>-1?l[c].label:"Thanks"),w.call(this,c>-1?l[c].label:"Thanks haha")}})}function f(a){return Math.floor(a/60)}function w(a){const t=this.add.image(this.cameras.main.centerX,this.cameras.main.centerY,"bgReward");t.setOrigin(.5,.5),t.setDisplaySize(this.cameras.main.width,this.cameras.main.height);const o={font:"20px Arial",fill:"#ffffff",align:"center"},s=this.add.text(this.cameras.main.centerX,this.cameras.main.centerX,`Congratulations!
You won ${a}`,o);s.setOrigin(.5,.5);const e=this.add.image(this.cameras.main.centerX,this.cameras.main.height-100,"btnClaim");e.setOrigin(.5,.5),e.setScale(.5),e.setInteractive(),e.on("pointerdown",()=>{t.destroy(),s.destroy(),e.destroy()})}
